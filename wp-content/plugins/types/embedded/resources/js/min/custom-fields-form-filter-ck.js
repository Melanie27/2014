function wpcfFieldsFormFiltersSummary(){if("all"==jQuery("#wpcf-fields-form-filters-association-form").find("input:checked").val())var e=wpcf_filters_association_and;else var e=wpcf_filters_association_or;var t=new Array;jQuery("#wpcf-form-fields-post_types").find("input:checked").each(function(){t.push(jQuery(this).next().html())});var i=new Array;jQuery("#wpcf-form-fields-taxonomies").find("input:checked").each(function(){i.push(jQuery(this).next().html())});var r=new Array;jQuery("#wpcf-form-fields-templates").find("input:checked").each(function(){r.push(jQuery(this).next().html())}),t.length<1&&t.push(wpcf_filters_association_all_pages),i.length<1&&i.push(wpcf_filters_association_all_taxonomies),r.length<1&&r.push(wpcf_filters_association_all_templates),e=e.replace("%pt%",t.join(", ")),e=e.replace("%tx%",i.join(", ")),e=e.replace("%vt%",r.join(", ")),jQuery("#wpcf-fields-form-filters-association-summary").html(e)}function _wpcfFilterTitle(e,t,i,r){return"empty"==e?t+" "+r:t+" "+i}function wpcfFilterEditClick(e,t,i,r,o){var s=e.parents(".wpcf-filter-wrap"),p=s.next();"custom_post_types"==t?(window.wpcfPostTypesText=new Array,window.wpcfFormGroupsSupportPostTypesState=new Array,p.slideToggle().find(".checkbox").each(function(e){jQuery(this).is(":checked")&&(window.wpcfPostTypesText.push(jQuery(this).next().html()),window.wpcfFormGroupsSupportPostTypesState.push(jQuery(this).attr("id")))})):"custom_taxonomies"==t?(window.wpcfTaxText=new Array,window.wpcfFormGroupsSupportTaxState=new Array,p.slideToggle().find(".checkbox").each(function(e){jQuery(this).is(":checked")&&(window.wpcfTaxText.push(jQuery(this).next().html()),window.wpcfFormGroupsSupportTaxState.push(jQuery(this).attr("id")))})):"templates"==t?(window.wpcfTemplatesText=new Array,window.wpcfFormGroupsTemplatesState=new Array,p.slideToggle().find(".checkbox").each(function(e){jQuery(this).is(":checked")&&(window.wpcfTemplatesText.push(jQuery(this).next().html()),window.wpcfFormGroupsTemplatesState.push(jQuery(this).attr("id")))}),jQuery(this).css("visibility","hidden")):"admin_styles"==t&&(p.slideToggle(),jQuery("#wpcf-admin-styles-box").css({width:"700px","border-color":"#808080","box-shadow":"5px 5px 10px #888888","z-index":"10000"}),""==CSSLayoutEditor&&(jQuery("#wpcf-update-preview-div").resizable({}),document.getElementById("wpcf-form-groups-admin-html-preview").innerHTML=wpcfEditMode,CSSLayoutEditor=CodeMirror.fromTextArea(document.getElementById("wpcf-form-groups-css-fields-editor"),{mode:"css",tabMode:"indent",lineWrapping:!0,lineNumbers:!0}),HTMMLLayoutEditor=CodeMirror.fromTextArea(document.getElementById("wpcf-form-groups-admin-html-preview"),{mode:"text/html",tabMode:"indent",readOnly:!0,lineWrapping:!0,lineNumbers:!0}),wpcfPreviewHtml(),jQuery(".CodeMirror-scroll").css({width:"675px"}),jQuery(".CodeMirror").resizable({stop:function(){CSSLayoutEditor.refresh(),HTMMLLayoutEditor.refresh()},resize:function(){jQuery(this).find(".CodeMirror-scroll").height(jQuery(this).height()),jQuery(this).find(".CodeMirror-scroll").width(jQuery(this).width()),CSSLayoutEditor.refresh(),HTMMLLayoutEditor.refresh()}}))),e.css("visibility","hidden")}function changePreviewHtml(e){HTMMLLayoutEditor.setValue("readonly"==e?wpcfReadOnly:wpcfEditMode),HTMMLLayoutEditor.refresh(),wpcfPreviewHtml()}function wpcfPreviewHtml(){jQuery("#wpcf-update-preview-div").resizable("destroy"),jQuery("<style type='text/css'> "+CSSLayoutEditor.getValue()+" </style>").appendTo("head"),document.getElementById("wpcf-update-preview-div").innerHTML=HTMMLLayoutEditor.getValue(),jQuery("#wpcf-update-preview-div").resizable({})}function wpcfFilterOkClick(e,t,i,r,o){var s=e.parent(),p=s.prev(".wpcf-filter-wrap");if("custom_post_types"==t)if(window.wpcfPostTypesText=new Array,window.wpcfFormGroupsSupportPostTypesState=new Array,s.slideUp().find(".checkbox").each(function(e){jQuery(this).is(":checked")&&(window.wpcfPostTypesText.push(jQuery(this).next().html()),window.wpcfFormGroupsSupportPostTypesState.push(jQuery(this).attr("id")))}),window.wpcfPostTypesText.length<1)p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("empty",i,r,o));else{var r=wpcfPostTypesText.join(", ");p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("has",i,r,o))}else"custom_taxonomies"==t?(window.wpcfTaxText=new Array,window.wpcfFormGroupsSupportTaxState=new Array,s.slideToggle().find(".checkbox").each(function(e){jQuery(this).is(":checked")&&(window.wpcfTaxText.push(jQuery(this).next().html()),window.wpcfFormGroupsSupportTaxState.push(jQuery(this).attr("id")))}),window.wpcfTaxText.length<1?p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("empty",i,r,o)):(r=window.wpcfTaxText.join(", "),p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("has",i,r,o)))):"templates"==t?(window.wpcfTemplatesText=new Array,window.wpcfFormGroupsTemplatesState=new Array,s.slideUp().find(".checkbox").each(function(e){jQuery(this).is(":checked")&&(window.wpcfTemplatesText.push(jQuery(this).next().html()),window.wpcfFormGroupsTemplatesState.push(jQuery(this).attr("id")))}),window.wpcfTemplatesText.length<1?p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("empty",i,r,o)):(r=window.wpcfTemplatesText.join(", "),p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("has",i,r,o)))):"admin_styles"==t&&(jQuery("#wpcf-admin-styles-box").css({width:"400px","border-color":"#dfdfdf","box-shadow":"none","z-index":"0"}),jQuery("html, body").animate({scrollTop:jQuery("#wpcf-admin-styles-box").position().top},"fast"),s.slideUp());p.children("a").css("visibility","visible")}function wpcfFilterCancelClick(e,t,i,r,o){var s=e.parent(),p=s.prev(".wpcf-filter-wrap");if("custom_post_types"==t){if(s.slideUp().find("input").removeAttr("checked"),window.wpcfFormGroupsSupportPostTypesState.length>0)for(var n in window.wpcfFormGroupsSupportPostTypesState)jQuery("#"+window.wpcfFormGroupsSupportPostTypesState[n]).attr("checked","checked");window.wpcfPostTypesText.length>0?(r=window.wpcfPostTypesText.join(", "),p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("has",i,r,o))):p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("empty",i,r,o))}else if("custom_taxonomies"==t){if(s.slideUp().find("input").removeAttr("checked"),window.wpcfFormGroupsSupportTaxState.length>0)for(var n in window.wpcfFormGroupsSupportTaxState)jQuery("#"+window.wpcfFormGroupsSupportTaxState[n]).attr("checked","checked");window.wpcfTaxText.length>0?(r=window.wpcfTaxText.join(", "),p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("has",i,r,o))):p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("empty",i,r,o))}else if("templates"==t){if(s.slideUp().find("input").removeAttr("checked"),window.wpcfFormGroupsTemplatesState.length>0)for(var n in window.wpcfFormGroupsTemplatesState)jQuery("#"+window.wpcfFormGroupsTemplatesState[n]).attr("checked","checked");window.wpcfTemplatesText.length>0?(r=window.wpcfTemplatesText.join(", "),p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("has",i,r,o))):p.find(".wpcf-filter-ajax-response").html(_wpcfFilterTitle("empty",i,r,o))}else"admin_styles"==t&&(jQuery("#wpcf-admin-styles-box").css({width:"400px","border-color":"#dfdfdf","box-shadow":"none","z-index":"0"}),jQuery("html, body").animate({scrollTop:jQuery("#wpcf-admin-styles-box").position().top},"fast"),CSSLayoutEditor.setValue(wpcfDefaultCss),s.slideUp());p.children("a").css("visibility","visible")}jQuery(document).ready(function(){wpcfFieldsFormFiltersSummary()}),jQuery("input.wpcf-forms-field-slug").live("blur focus click",function(){var e=jQuery(this).val(),t=jQuery(this).attr("name"),i="";(""==e||"Enter field slug"==e)&&(i=jQuery(this).parent().find("input.wpcf-forms-field-name"),jQuery(this).val(jQuery(i).val().toLowerCase().split(" ").join("-").split("'").join("")))});var CSSLayoutEditor="",HTMMLLayoutEditor="";