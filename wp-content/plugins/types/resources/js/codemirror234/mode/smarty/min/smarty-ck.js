CodeMirror.defineMode("smarty",function(e){function t(e,t){return f=t,e}function r(e,t){function r(r){return t.tokenize=r,r(e,t)}return e.match(l,!0)?e.eat("*")?r(a("comment","*"+d)):(t.tokenize=i,"tag"):(e.next(),null)}function i(e,i){if(e.match(d,!0))return i.tokenize=r,t("tag",null);var a=e.next();if("$"==a)return e.eatWhile(u.validIdentifier),t("variable-2","variable");if("."==a)return t("operator","property");if(u.stringChar.test(a))return i.tokenize=n(a),t("string","string");if(u.operatorChars.test(a))return e.eatWhile(u.operatorChars),t("operator","operator");if("["==a||"]"==a)return t("bracket","bracket");if(/\d/.test(a))return e.eatWhile(/\d/),t("number","number");if("variable"==i.last){if("@"==a)return e.eatWhile(u.validIdentifier),t("property","property");if("|"==a)return e.eatWhile(u.validIdentifier),t("qualifier","modifier")}else{if("whitespace"==i.last)return e.eatWhile(u.validIdentifier),t("attribute","modifier");if("property"==i.last)return e.eatWhile(u.validIdentifier),t("property",null);if(/\s/.test(a))return f="whitespace",null}var l="";"/"!=a&&(l+=a);for(var s="";s=e.eat(u.validIdentifier);)l+=s;var c,m;for(c=0,m=o.length;m>c;c++)if(o[c]==l)return t("keyword","keyword");return/\s/.test(a)?null:t("tag","tag")}function n(e){return function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=i;break}return"string"}}function a(e,t){return function(i,n){for(;!i.eol();){if(i.match(t)){n.tokenize=r;break}i.next()}return e}}var o=["debug","extends","function","include","literal"],f,u={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9\_]/,stringChar:/[\'\"]/},l="undefined"!=typeof e.mode.leftDelimiter?e.mode.leftDelimiter:"{",d="undefined"!=typeof e.mode.rightDelimiter?e.mode.rightDelimiter:"}";return{startState:function(){return{tokenize:r,mode:"smarty",last:null}},token:function(e,t){var r=t.tokenize(e,t);return t.last=f,r},electricChars:""}}),CodeMirror.defineMIME("text/x-smarty","smarty");