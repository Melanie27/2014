CodeMirror.defineMode("markdown",function(t,e){function n(t,e,n){return e.f=e.inline=n,n(t,e)}function i(t,e,n){return e.f=e.block=n,n(t,e)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,k||t.f!=a||(t.f=d,t.block=o),t.thisLineHasContent=!1,null}function o(t,r){var o=r.list!==!1;if(r.list!==!1&&r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):r.list!==!1&&r.indentation>0?(r.list=null,r.listDepth=Math.floor(r.indentation/4)):r.list!==!1&&(r.list=!1,r.listDepth=0),r.indentationDiff>=4)return r.indentation-=4,t.skipToEnd(),L;if(t.eatSpace())return null;if("#"===t.peek()||r.prevLineHasContent&&t.match(U))r.header=!0;else if(t.eat(">"))for(r.indentation++,r.quote=1,t.eatSpace();t.eat(">");)t.eatSpace(),r.quote++;else{if("["===t.peek())return n(t,r,f);if(t.match(B,!0))return D;if(r.prevLineHasContent&&!o||!t.match(W,!0)&&!t.match(I,!0)){if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return r.localMode=M(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),i(t,r,s),L}else r.indentation+=4,r.list=!0,r.listDepth++,e.taskLists&&t.match(R,!1)&&(r.taskList=!0)}return n(t,r,r.inline)}function a(t,e){var n=v.token(t,e.htmlState);return k&&"tag"===n&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=d,e.block=o),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=d,e.block=o,e.htmlState.context=void 0),n}function s(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=d,e.block=o,L):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),L)}function l(t){var e=[];if(t.taskOpen)return"meta";if(t.taskClosed)return"property";if(t.strong&&e.push(O),t.em&&e.push(j),t.linkText&&e.push(E),t.code&&e.push(L),t.header&&e.push(C),t.quote&&e.push(t.quote%2?S:b),t.list!==!1){var n=(t.listDepth-1)%3;e.push(n?1===n?w:H:T)}return e.length?e.join(" "):null}function c(t,e){return t.match(A,!0)?l(e):void 0}function d(t,r){var o=r.text(t,r);if("undefined"!=typeof o)return o;if(r.list)return r.list=null,l(r);if(r.taskList){var s="x"!==t.match(R,!0)[1];return s?r.taskOpen=!0:r.taskClosed=!0,r.taskList=!1,l(r)}r.taskOpen=!1,r.taskClosed=!1;var c=t.next();if("\\"===c)return t.next(),l(r);if(r.linkTitle){r.linkTitle=!1;var d=c;"("===c&&(d=")"),d=(d+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+d+"\\\\]+|\\\\\\\\|\\\\.)"+d;if(t.match(new RegExp(f),!0))return $}if("`"===c){var m=l(r),h=t.pos;t.eatWhile("`");var k=1+t.pos-h;return r.code?k===g?(r.code=!1,m):l(r):(g=k,r.code=!0,l(r))}if(r.code)return l(r);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=u,_;if("["===c&&t.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,l(r);if("]"===c&&r.linkText){var v=l(r);return r.linkText=!1,r.inline=r.f=u,v}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!0))return n(t,r,p(y,">"));if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!0))return n(t,r,p(q,">"));if("<"===c&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var x=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(r.md_inside=!0)}return t.backUp(1),i(t,r,a)}if("<"===c&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var M=!1;if(!e.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var C=t.pos-2;if(C>=0){var L=t.string.charAt(C);"_"!==L&&L.match(/(\w)/,!1)&&(M=!0)}}var m=l(r);if("*"===c||"_"===c&&!M){if(r.strong===c&&t.eat(c))return r.strong=!1,m;if(!r.strong&&t.eat(c))return r.strong=c,l(r);if(r.em===c)return r.em=!1,m;if(!r.em)return r.em=c,l(r)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return l(r);t.backUp(1)}return l(r)}function u(t,e){if(t.eatSpace())return null;var i=t.next();return"("===i||"["===i?n(t,e,p($,"("===i?")":"]")):"error"}function f(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=m,E):n(t,e,d)}function m(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=d,$)}function h(t){return P[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),P[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),P[t]}function p(t,e,n){return n=n||d,function(i,r){return i.match(h(e)),r.inline=r.f=n,t}}var k=CodeMirror.mimeModes.hasOwnProperty("text/html"),v=CodeMirror.getMode(t,k?"text/html":"text/plain"),x={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},M=function(){var e,n={},i={},r,o=[];for(var a in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(a)&&o.push(a);for(e=0;e<o.length;e++)n[o[e]]=o[e];var s=[];for(var a in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(a)&&s.push({mime:a,mode:CodeMirror.mimeModes[a]});for(e=0;e<s.length;e++)r=s[e].mime,i[r]=s[e].mime;for(var l in x)(x[l]in n||x[l]in i)&&(n[l]=x[l]);return function(e){return n[e]?CodeMirror.getMode(t,n[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var g=0,C="header",L="comment",S="atom",b="number",T="variable-2",w="variable-3",H="keyword",D="hr",_="tag",y="link",q="link",E="link",$="string",j="em",O="strong",B=/^([*\-=_])(?:\s*\1){2,}\s*$/,W=/^[*\-+]\s+/,I=/^[0-9]+\.\s+/,R=/^\[(x| )\](?=\s)/,U=/^(?:\={1,}|-{1,})$/,A=/^[^!\[\]*_\\<>` "'(]+/,P=[];return{startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:CodeMirror.startState(v),indentation:0,inline:d,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:CodeMirror.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return e.prevLineHasContent=!1,r(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.header=!1,e.taskList=!1,e.code=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=4*Math.floor((n-e.indentation)/4);i>4&&(i=4);var o=e.indentation+i;if(e.indentationDiff=o-e.indentation,e.indentation=o,n>0)return null}return e.f(t,e)},blankLine:r,getType:l}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");