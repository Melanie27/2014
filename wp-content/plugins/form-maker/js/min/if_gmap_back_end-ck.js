function if_gmap_init(e){map=document.getElementById(e+"_elementform_id_temp");var t=parseInt(map.getAttribute("zoom")),a=map.getAttribute("center_x"),o=map.getAttribute("center_y"),n=new google.maps.LatLng(o,a);return gmapdata[e]=new google.maps.Map(document.getElementById(e+"_elementform_id_temp"),{center:n,zoom:t,mapTypeId:"roadmap"}),google.maps.event.addListener(gmapdata[e],"zoom_changed",function(){document.getElementById(e+"_elementform_id_temp").setAttribute("zoom",gmapdata[e].getZoom())}),gmapmarker[e]=new Array,!1}function update_position(e,t){var a=document.getElementById("longval"+t).value,o=document.getElementById("latval"+t).value;a.length>0?1==isNaN(parseFloat(a))&&(a=2.294254):a=2.294254,o.length>0?1==isNaN(parseFloat(o))&&(o=48.858334):o=48.858334;var n=new google.maps.LatLng(o,a);return gmapmarker[e][t].setPosition(n),gmapdata[e].setCenter(n),cur_zoom=gmapdata[e].getZoom(),gmapdata[e].setZoom(cur_zoom),geocoder=new google.maps.Geocoder,geocoder.geocode({latLng:gmapmarker[e][t].getPosition()},function(e,a){a==google.maps.GeocoderStatus.OK&&e[0]&&document.getElementById("addrval"+t)&&(document.getElementById("addrval"+t).value=e[0].formatted_address)}),!1}function reomve_marker(e,t){gmapmarker[e][t].setMap(null)}function add_marker_on_map(e,t,a,o,n,m){if(map=document.getElementById(e+"_elementform_id_temp"),null==a){var g=gmapdata[e].getCenter();o=gmapdata[e].getCenter().lat(),a=gmapdata[e].getCenter().lng()}else var g=new google.maps.LatLng(o,a);return geocoder=new google.maps.Geocoder,gmapmarker[e][t]=new google.maps.Marker({map:gmapdata[e],position:g,draggable:m}),gmapmarker[e][t].setDraggable(m),infoW=new google.maps.InfoWindow,google.maps.event.addListener(gmapdata[e],"mouseover",function(a){document.getElementById("longval"+t)||gmapmarker[e][t].setDraggable(!1)}),google.maps.event.addListener(gmapmarker[e][t],"drag",function(){document.getElementById("longval"+t)&&(geocoder.geocode({latLng:gmapmarker[e][t].getPosition()},function(e,a){a==google.maps.GeocoderStatus.OK&&e[0]&&document.getElementById("addrval"+t)&&(document.getElementById("addrval"+t).value=e[0].formatted_address)}),map.setAttribute("long"+t,gmapmarker[e][t].getPosition().lng().toFixed(6)),map.setAttribute("lat"+t,gmapmarker[e][t].getPosition().lat().toFixed(6)),document.getElementById("latval"+t).value=gmapmarker[e][t].getPosition().lat().toFixed(6),document.getElementById("longval"+t).value=gmapmarker[e][t].getPosition().lng().toFixed(6))}),google.maps.event.addListener(gmapmarker[e][t],"click",function(){infoW.setContent('<div style="overflow: hidden;">'+document.getElementById(e+"_elementform_id_temp").getAttribute("info"+t)+"</div>");var a={maxWidth:"300"};infoW.setOptions(a),infoW.open(this.getMap(),this)}),document.getElementById("longval"+t)&&(document.getElementById("longval"+t).value=a,document.getElementById("latval"+t).value=o,geocoder.geocode({latLng:gmapmarker[e][t].getPosition()},function(e,a){a==google.maps.GeocoderStatus.OK&&e[0]&&document.getElementById("addrval"+t)&&(document.getElementById("addrval"+t).value=e[0].formatted_address)}),map.setAttribute("long"+t,a),map.setAttribute("lat"+t,o)),!1}function changeAddress(e,t){var a=document.getElementById("addrval"+t).value;geocoder.geocode({address:a},function(a,o){o==google.maps.GeocoderStatus.OK&&(gmapdata[e].setCenter(a[0].geometry.location),gmapmarker[e][t].setPosition(a[0].geometry.location),document.getElementById("latval"+t).value=gmapmarker[e][t].getPosition().lat().toFixed(6),document.getElementById("longval"+t).value=gmapmarker[e][t].getPosition().lng().toFixed(6),map.setAttribute("long"+t,gmapmarker[e][t].getPosition().lng().toFixed(6)),map.setAttribute("lat"+t,gmapmarker[e][t].getPosition().lat().toFixed(6)))})}function change_info(e,t,a){map=document.getElementById(t+"_elementform_id_temp"),map.setAttribute("info"+a,e)}function if_gmap_updateMap(e){map=document.getElementById(e+"_elementform_id_temp"),w_long=gmapdata[e].getCenter().lng(),w_lat=gmapdata[e].getCenter().lat(),map.setAttribute("center_x",w_long),map.setAttribute("center_y",w_lat)}var gmapdata=new Array,gmapmarker=new Array;